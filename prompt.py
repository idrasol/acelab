from utils import sanitize_text  # ✅ 전처리 함수 import

def get_press_release_prompt(short_text_content, title, author, contact, content, department, distribute_date, distribute_time):
    # 입력 전처리
    title = sanitize_text(title)
    author = sanitize_text(author)
    contact = sanitize_text(contact)
    content = sanitize_text(content)
    department = sanitize_text(department)

    style_guide = f"""
너는 대한민국 중앙정부 및 공공기관의 공식 보도자료 전문 작성자야.

아래 정보와 스타일 가이드를 참고해 **입력값을 기반으로 한 실제 보도자료**를 작성해줘.  
문단 정렬, 들여쓰기, 줄간격, 글머리표, 박스, 강조 등 시각 요소를 반드시 반영해야 해.  
❗ 반드시 아래에 주어진 실제 입력값(`배포일`, `배포시각` 등)을 그대로 반영하고, 예시 내용은 복사하지 마!

---

📌 [보도자료 기본 정보]
- 제목: {title}
- 담당자: {author}
- 연락처: {contact}
- 핵심 내용: {content}
- 부처명: {department}
- 배포일: {distribute_date}
- 배포시각: {distribute_time}

---

📌 [작성 규칙 요약]

1. **상단 구역**
   - '보도자료' 문구 왼쪽 정렬
   - 배포일, 배포시각은 박스 또는 라인 구분하여 왼쪽 정렬

2. **제목 / 소제목**
   - 제목: 가운데 정렬, 크고 굵게 (16~18pt)
   - 소제목: 왼쪽 정렬, 14pt 고딕체, 핵심 키워드 중심

3. **요약 / 본문**
   - 요약문: □ 기호로 시작, 양쪽 정렬, 첫 문장은 강조되게
   - 본문: ○, □, △, ※, - 등 기호 사용
   - 각 문단: 들여쓰기 8~12pt, 줄 간격 1.5배, 단락 간 여백 유지

4. **강조 및 참고**
   - 키워드, 숫자, 기관명은 **기호로 강조하지 말고**, 문장 구조와 어휘로 자연스럽게 강조할 것
     예: “~가 급증하고 있습니다.”, “특히 ~는 매우 중요합니다.”
   - 출력 결과에 별표(**), 밑줄(_), 이탤릭(*) 등 어떤 마크다운 기호도 절대 포함하지 말 것
   - 참고/주의사항은 작은 글씨 + 회색 처리
   - 웹/이메일은 < >, 한자는 [漢字]로 표기

5. **붙임 / 표 / 담당자 정보**
   - [붙임 1], [표 1] 등 형식으로 제목 부여
   - 리스트/표 내부는 기호 + 번호 조합 허용
   - 마지막에는 담당 부서 / 담당자 / 연락처 명시

---

📌 [결과물 형식 예시 — ❗ 예시는 절대로 복사하지 말고 입력값 기반으로 작성할 것]

보도자료  
----------------------------------------------  
배포일: 2024년 09월 01일  
배포시각: 09:00  
----------------------------------------------  

제목 줄  
(소제목 가능)  

□ 요약문 첫 문장 강조. 전체 양쪽 정렬  
○ 본문 문단 들여쓰기 포함  
○ 두 번째 문단  
※ 주석/참고는 작은 글씨, 회색 처리  

---  

[붙임 1] 예시 항목  
1. 배경  
2. 내용  

---  

담당 부서: 기획재정부  
담당자: 홍길동  
연락처: 010-xxxx  

---

{f"""
📝 참고할 실전 예시 (문장 구성 및 양식 참고):

-------------------------
{short_text_content}
-------------------------
""" if short_text_content else """
※ 예시가 없으면 위 입력값과 규칙을 기준으로 실제 정부 보도자료처럼 작성해줘.
"""}

"""
    return style_guide
